{
 "add_total_row": 0, 
 "creation": "2020-01-18 15:36:28.054630", 
 "disable_prepared_report": 0, 
 "disabled": 0, 
 "docstatus": 0, 
 "doctype": "Report", 
 "idx": 0, 
 "is_standard": "Yes", 
 "letter_head": "\u0634\u0639\u0627\u0631 \u0637\u0628\u0627\u0639\u0629 \u0627\u0644\u0641\u0648\u0627\u062a\u064a\u0631", 
 "modified": "2020-01-18 15:37:11.902998", 
 "modified_by": "Administrator", 
 "module": "Car Sale", 
 "name": "Car Comprehensive", 
 "owner": "Administrator", 
 "prepared_report": 0, 
 "query": "select \nTS.serial_no,\nIT.item_group,\nIT.item_name, \nMAX(IF (TVA.attribute ='Color',TVA.attribute_value,'')) AS Color,\nMAX(IF (TVA.attribute ='model',TVA.attribute_value,'')) AS Model,\nMAX(IF (TVA.attribute ='Category',TVA.attribute_value,'')) AS Category,\nTS.reservation_status,\nTS.warehouse,\nNCR.name as CarRequest,\nNCR.request_date as RequestDate,\nPO.name as PO,\nPO.transaction_date as PODate,\nPIT.amount as PurchaseRate,\nPIT.discount_amount as Discount,\nPIT.base_net_amount as NetAmount,\nPIR.name as PurchaseReturn,\nPR.name as PurchaseReceipt,\nPR.posting_date as ReceiveDate,\nPI.name as PurchaseInvoice,\nPI.posting_date as PurchaseDate,\nTS.supplier as Supplier,\nPI.tax_id as Tax,\nSUM(ST.transfer_cost) as TransferCost,\nWC.rate,\nTS.plate_cost as PlateCost,\nSUM(EED.amount) as CarMaintenanceCost,\nSUM(EEDOC.amount) as OutsideCommission,\nSP.commission_per_car as InternalCommission,\nSO.name as SO,\nSO.transaction_date as SODate,\nSOI.amount as SalesAmount,\nSOI.discount_amount AS Discount,\nSOI.base_net_amount AS NetAmount,\nSO.customer,\nSO.customer_name,\nC.customer_name as SubCustomer,\nSI.name as SalesInvoice,\nSI.posting_date as InvoiceDate,\nDN.name as DeliveryNote,\nDN.posting_date as DeliveryDate,\nSI.sales_person as SalesMan\nfrom `tabSerial No` AS TS\nINNER JOIN tabItem as IT  \nON TS.item_code = IT.item_code\nINNER JOIN `tabItem Variant Attribute` as TVA \nON TS.item_code = TVA.parent\nLEFT JOIN `tabNew Car Request Item` AS NCRI \nON TS.serial_no = NCRI.serial_no \nLEFT JOIN `tabNew Car Request` AS NCR\nON NCR.name =NCRI.parent\nLEFT JOIN `tabPurchase Receipt` AS PR\nON PR.name  = TS.purchase_document_no\nLEFT JOIN `tabPurchase Invoice` AS PI\nON PI.name  = TS.purchase_document_no\nLEFT JOIN `tabPurchase Invoice Item` AS PIT \nON PI.name = PIT.parent\nand TS.item_code = PIT.item_code\nand FIND_IN_SET(TS.serial_no, REPLACE(PIT.serial_no, '\\n', ',' )) > 0\nLEFT JOIN `tabPurchase Order` AS PO \nON  PIT.purchase_order = PO.name \nLEFT JOIN `tabPurchase Order Item` AS POI \nON PO.name = POI.parent\nand FIND_IN_SET(TS.serial_no, REPLACE(PIT.serial_no, '\\n', ',' )) > 0\nLEFT JOIN  `tabSales Person` as SP \nON TS.sales_person = SP.name\nLEFT JOIN  `tabSales Order` as SO\nON TS.reserved_by_document = SO.name\nLEFT JOIN tabCustomer as C \non C.name = SO.sub_customer\nLEFT JOIN `tabSales Order Item` as SOI \nON SOI.parent = SO.name\nand FIND_IN_SET(TS.serial_no, REPLACE(SOI.serial_no, '\\n', ',' )) > 0\nleft JOIN  `tabSales Invoice` AS SI \nON TS.sales_invoice = SI.name\nleft JOIN  `tabDelivery Note` AS DN \nON TS.delivery_document_no = DN.name\nLEFT JOIN `tabPurchase Invoice Item`  as PIRI\non FIND_IN_SET(TS.serial_no, REPLACE(PIRI.serial_no, '\\n', ',' )) > 0\nLEFT JOIN `tabPurchase Invoice` as PIR\nON PIR.name = PIRI.parent\nand PIR.is_return = 1\nLEFT JOIN `tabSales Invoice Item`  as SRI\non FIND_IN_SET(TS.serial_no, REPLACE(SRI.serial_no, '\\n', ',' )) > 0\nLEFT JOIN `tabSales Invoice` as SR\nON SR.name = SRI.parent\nand SR.is_return = 1\nLEFT JOIN `tabStock Entry Detail` AS STD \non FIND_IN_SET(TS.serial_no, REPLACE(STD.serial_no, '\\n', ',' )) > 0\nleft JOIN `tabStock Entry` as ST\nON ST.name = STD.parent\nand TS.item_code = PIT.item_code\nand FIND_IN_SET(TS.serial_no, REPLACE(PIT.serial_no, '\\n', ',' )) > 0\nLEFT JOIN `tabWarranty Card Issued` as  WC \nON TS.serial_no = WC.serial_no \nLEFT JOIN `tabExpenses Entry Detail` EED \nON TS.serial_no = EED.serial_no \nLEFT JOIN `tabCompany` as TCM \nON TCM.default_car_maintenance_account_cf =  EED.expense_account \nLEFT JOIN `tabExpenses Entry Detail` EEDOC \nON TS.serial_no = EEDOC.serial_no \nLEFT JOIN `tabCompany` as TCOC \nON TCOC.default_outside_commission_account_cf =  EEDOC.expense_account \nGROUP BY \nTS.serial_no,\nIT.item_group,\nIT.item_name,\nTS.reservation_status,\nTS.warehouse,\nNCR.name,\nNCR.request_date,\nPO.name ,\nPO.transaction_date ,\nPIT.amount ,\nPIT.discount_amount ,\nPIT.base_net_amount ,\nPIR.name ,\nPR.name ,\nPR.posting_date,\nPI.name ,\nPI.posting_date ,\nTS.supplier ,\nPI.tax_id ,\nWC.rate,\nTS.plate_cost,\nSP.commission_per_car ,\nSO.name ,\nSO.transaction_date ,\nSOI.amount ,\nSOI.discount_amount ,\nSOI.base_net_amount ,\nSO.customer,\nSO.customer_name,\nC.customer_name ,\nSI.name ,\nSI.posting_date ,\nDN.name ,\nDN.posting_date ,\nSI.sales_person ", 
 "ref_doctype": "Serial No", 
 "report_name": "Car Comprehensive", 
 "report_type": "Query Report", 
 "roles": [
  {
   "role": "Stock Manager"
  }, 
  {
   "role": "Stock User"
  }, 
  {
   "role": "Item Manager"
  }, 
  {
   "role": "Sales Agent"
  }, 
  {
   "role": "Sales User"
  }, 
  {
   "role": "Sales User 2"
  }, 
  {
   "role": "\u0645\u0633\u0624\u0648\u0644 \u0627\u0635\u062f\u0627\u0631 \u0627\u0644\u0641\u0633\u0648\u062d\u0627\u062a"
  }, 
  {
   "role": "\u0645\u0633\u0624\u0648\u0644 \u0627\u0639\u062a\u0645\u0627\u062f \u0639\u0631\u0648\u0636 \u0627\u0644\u0627\u0633\u0639\u0627\u0631"
  }, 
  {
   "role": "\u0645\u0633\u0624\u0648\u0644 \u0627\u0635\u062f\u0627\u0631 \u0627\u0645\u0631 \u0627\u0644\u0641\u0633\u062d"
  }, 
  {
   "role": "\u0645\u0633\u0624\u0648\u0644 \u0627\u0635\u062f\u0627\u0631 \u0627\u0644\u0644\u0648\u062d\u0627\u062a"
  }
 ]
}